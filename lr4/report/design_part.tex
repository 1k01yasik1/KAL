\ssr{КОНСТРУКТОРСКАЯ ЧАСТЬ}

\section*{Структуры данных}
Для представления графа используется матрица смежности, построенная после разбора входного
файла Graphviz. Каждый узел сопоставлен строке и столбцу матрицы; отсутствующие дуги
обозначаются бесконечным весом. Дополнительно хранится отображение индекса вершины в её
символьную метку.

Матрица феромонов хранится в виде двумерного массива чисел с плавающей точкой. Для
параллельного алгоритма каждый поток получает собственную локальную копию матрицы вкладов,
в которую накапливаются добавления феромона за текущую итерацию.

\section*{Последовательный алгоритм}
Главный поток выполняет следующие шаги в каждой итерации:
\begin{enumerate}
        \item запускает цикл генерации маршрутов для заданного количества муравьёв;
        \item обновляет временную матрицу вкладов феромона с учётом найденных маршрутов;
        \item сравнивает найденные циклы с текущим множеством оптимальных маршрутов и при необходимости добавляет новые;
        \item пересчитывает глобальную матрицу феромонов с учётом испарения и накопленных вкладов.
\end{enumerate}

\section*{Параллельный алгоритм}
Главный поток создаёт фиксированное количество рабочих потоков, вручную распределяя между
ними муравьёв. Каждый рабочий поток:
\begin{enumerate}
        \item инициализирует генератор случайных чисел собственным сдвигом от глобального зерна;
        \item строит назначенное количество маршрутов и накапливает вклад феромонов в локальной матрице;
        \item сохраняет найденные оптимальные циклы в локальном списке.
\end{enumerate}

После завершения всех потоков главный поток объединяет локальные матрицы вкладов, обновляет
глобальный список оптимальных маршрутов под защитой мьютекса и пересчитывает матрицу
феромонов. Потоки создаются и уничтожаются на каждой итерации, что соответствует требованию
ручного управления жизненным циклом.

\section*{Синхронизация}
Для объединения списков маршрутов используется объект \texttt{std::mutex}. Рабочие потоки
захватывают мьютекс только в момент добавления маршрутов в глобальное множество, что
минимизирует время удержания блокировки. Обновление матриц феромонов выполняется без
дополнительной синхронизации: каждый поток работает только со своей копией, а итоговое
объединение выполняется последовательно в главном потоке.

\clearpage
